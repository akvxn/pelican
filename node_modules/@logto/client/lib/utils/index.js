import { discoveryPath } from '@logto/js';
import { conditionalString } from '@silverhand/essentials';

const buildAccessTokenKey = (resource = '', organizationId, scopes = []) => `${scopes.slice().sort().join(' ')}@${resource}${conditionalString(organizationId && `#${organizationId}`)}`;
const getDiscoveryEndpoint = (endpoint) => new URL(discoveryPath, endpoint).toString();

export { buildAccessTokenKey, getDiscoveryEndpoint };
